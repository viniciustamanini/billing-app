<%= form_with model: [@company, @segment], local: true do |f| %>
  <div class="mb-4">
    <%= f.label :name, "Nome", class: "block text-sm font-medium text-gray-700 mb-1" %>
    <%= f.text_field :name,
                 class:
                   "w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring focus:ring-yellow-200",
                 required: true %>
  </div>

  <div class="mb-4">
    <%= f.label :description,
            "Descrição",
            class: "block text-sm font-medium text-gray-700 mb-1" %>
    <%= f.text_area :description,
                rows: 3,
                class:
                  "w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring focus:ring-yellow-200" %>
  </div>

  <div class="mb-4">
    <%= f.label :overdue_range_id,
            "Faixa de Atraso",
            class: "block text-sm font-medium text-gray-700 mb-1" %>
    <%= f.collection_select :overdue_range_id,
                        @company.overdue_ranges.order(:days_from),
                        :id,
                        :name,
                        prompt: "Selecione...",
                        class:
                          "w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring focus:ring-yellow-200" %>
  </div>

  <div class="mb-4 flex gap-4">
    <div class="flex-1">
      <%= f.label :debt_min,
              "Valor Mínimo (R$)",
              class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.number_field :debt_min,
                     step: 0.01,
                     class:
                       "w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring focus:ring-yellow-200" %>
    </div>
    <div class="flex-1">
      <%= f.label :debt_max,
              "Valor Máximo (R$)",
              class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.number_field :debt_max,
                     step: 0.01,
                     class:
                       "w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring focus:ring-yellow-200" %>
    </div>
  </div>

  <div class="mb-4 space-y-2">
    <div class="flex items-center gap-2">
      <%= f.check_box :include_active_customer,
                  class:
                    "rounded border-gray-300 text-yellow-600 focus:ring-yellow-500" %>
      <%= f.label :include_active_customer,
              "Incluir clientes ativos",
              class: "text-sm text-gray-700" %>
    </div>

    <div class="flex items-center gap-2">
      <%= f.check_box :include_inactive_customer,
                  class:
                    "rounded border-gray-300 text-yellow-600 focus:ring-yellow-500" %>
      <%= f.label :include_inactive_customer,
              "Incluir clientes inativos",
              class: "text-sm text-gray-700" %>
    </div>

    <div class="flex items-center gap-2">
      <%= f.check_box :active,
                  class:
                    "rounded border-gray-300 text-yellow-600 focus:ring-yellow-500" %>
      <%= f.label :active, "Segmento Ativo", class: "text-sm text-gray-700" %>
    </div>
  </div>

  <div class="mt-6 flex gap-3">
    <%= f.submit(
      @segment.new_record? ? "Salvar Segmento" : "Atualizar Segmento",
      class:
        "bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2 px-4 rounded-md shadow-sm",
    ) %>
    <%= link_to "Cancelar",
    company_segments_path(@company),
    class: "text-gray-600 hover:text-gray-800 underline" %>
  </div>
<% end %>
