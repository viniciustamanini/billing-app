<%= form_with model: [@company, @overdue_range], local: true do |f| %>
  <% if @overdue_range.errors.any? %>
    <div id="toasts" class="fixed top-4 right-4 z-50 w-80 space-y-4">
      <%= render "shared/toast",
      message: "Erro ao salvar: #{@overdue_range.errors.full_messages.to_sentence}",
      icon: "error" %>
    </div>
  <% end %>

  <div class="mb-4">
    <%= f.label :name,
            "Descrição da faixa",
            class: "block text-sm font-medium text-gray-700 mb-1" %>
    <%= f.text_field :name,
                 class:
                   "w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring focus:ring-yellow-200",
                 required: true %>
  </div>

  <div class="mb-4 flex gap-4">
    <div class="flex-1">
      <%= f.label :days_from,
              "Dias de atraso (de)",
              class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.number_field :days_from,
                     class:
                       "w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring focus:ring-yellow-200",
                     min: 0 %>
    </div>
    <div class="flex-1">
      <%= f.label :days_to,
              "Dias de atraso (até)",
              class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.number_field :days_to,
                     class:
                       "w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring focus:ring-yellow-200",
                     min: 0 %>
    </div>
  </div>

  <div class="mb-4 flex items-center gap-2">
    <%= f.check_box :active,
                class:
                  "rounded border-gray-300 text-yellow-600 focus:ring-yellow-500" %>
    <%= f.label :active, "Faixa ativa", class: "text-sm text-gray-700" %>
  </div>

  <div class="mt-6 flex gap-3">
    <%= f.submit(
      @overdue_range.new_record? ? "Salvar Faixa" : "Atualizar Faixa",
      class:
        "bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2 px-4 rounded-md shadow-sm",
    ) %>
    <%= link_to "Cancelar",
    company_segments_path(@company),
    class: "text-gray-600 hover:text-gray-800 underline" %>
  </div>
<% end %>
