<!-- _pie_card.html.erb (for negotiations / default pie) -->
<% subtitle ||= nil %>
<% href ||= profile_root_path %>
<% total ||= 0 %>

<div class="bg-yellow-400 rounded-lg shadow p-6 relative">
  <% if href %>
    <a href="<%= href %>" class="absolute top-4 right-4">
      <i class="material-symbols-outlined">open_in_new</i>
    </a>
  <% end %>

  <h2 class="text-lg font-medium mb-1"><%= title %></h2>

  <div class="relative h-40 flex justify-center items-center">
    <!-- Pie chart representation -->
    <div
      class="
        relative w-32 h-32 rounded-full border-8 border-yellow-300 flex justify-center
        items-center
      "
    >
      <span class="text-3xl font-bold"><%= percentage %>%</span>
    </div>
    <% if subtitle %>
      <p class="absolute bottom-0 text-xs"><%= subtitle %></p>
    <% end %>
    <% if total > 0 %>
      <div class="absolute bottom-0 text-center w-full">
        <p class="text-sm">De um total de <%= total %>.</p>
      </div>
    <% end %>
  </div>
</div>
