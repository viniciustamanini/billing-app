<!-- _pie_card.html.erb (for negotiations / default pie) -->
<% subtitle ||= nil %>
<% href ||= root_path %>

<div class="bg-yellow-400 rounded-lg shadow p-6 relative">
  <% if href %>
    <a href="<%= href %>" class="absolute top-4 right-4">
      <i class="material-symbols-outlined">open_in_new</i>
    </a>
  <% end %>
  
  <h2 class="text-lg font-medium mb-1"><%= title %></h2>
  <% if subtitle %>
    <p class="text-sm mb-4"><%= subtitle %></p>
  <% end %>
  
  <div class="relative h-40 flex justify-center items-center">
    <!-- Pie chart representation -->
    <div class="relative w-32 h-32 rounded-full border-8 border-yellow-300 flex justify-center items-center">
      <span class="text-3xl font-bold"><%= percentage %>%</span>
    </div>
    <% if subtitle && subtitle.include?("total") %>
      <div class="absolute bottom-0 text-center w-full">
        <p class="text-sm">De um total de 162.</p>
      </div>
    <% end %>
  </div>
</div>
